{"version":3,"sources":["app.js"],"names":["galleryItems","preview","original","description","refs","galleryContainer","document","querySelector","imagesMarkup","createGalleryCardMarkup","modal","galleryEl","closeModalBtn","laitBox","clickOverlayClose","gallery","map","join","onGalleryImageClick","e","preventDefault","target","classList","contains","window","addEventListener","onEscKeyDown","dataset","alt","abdateAttribute","source","add","src","onModalClose","removeEventListener","remove","onBackdropClick","code","insertAdjacentHTML"],"mappings":";AAAA,IAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAIXC,EAAO,CACXC,iBAAkBC,SAASC,cAAc,eACzCC,aAAcC,EAAwBT,GACtCU,MAAOJ,SAASC,cAAc,gBAC9BI,UAAWL,SAASC,cAAc,mBAClCK,cAAeN,SAASC,cAAc,kCACtCM,QAASP,SAASC,cAAc,oBAChCO,kBAAmBR,SAASC,cAAc,uBAO5C,SAASE,EAAwBM,GACxBA,OAAAA,EACJC,IACC,SAAA,GAAGf,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YAGSD,MAAAA,wEAAAA,OAAAA,EACED,8CAAAA,OAAAA,EAAyBC,mBAAAA,OAAAA,EAAkBC,WAAAA,OAAAA,EAJ5E,oCASDc,KAAK,IAIV,SAASC,EAAoBC,GAIvB,GAHJA,EAAEC,iBAEuBD,EAAEE,OAAOC,UAAUC,SAAS,kBACjD,CAIJC,OAAOC,iBAAiB,UAAWC,GAEVP,IAAAA,EAAAA,EAAEE,OAAnBM,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,IACjBC,EAAgBF,EAAQG,OAAQF,GAEhCxB,EAAKM,MAAMY,UAAUS,IAAI,YAI3B,SAASF,IAAgBG,IAAAA,EAAM,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAAIJ,EAAM,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GACvCxB,EAAKS,QAAQmB,IAAMA,EACnB5B,EAAKS,QAAQe,IAAMA,EAWrB,SAASK,IACPJ,IAEAL,OAAOU,oBAAoB,UAAWR,GACtCtB,EAAKM,MAAMY,UAAUa,OAAO,WAI9B,SAASC,IACPH,IAIF,SAASP,EAAaP,GACQ,WAAXA,EAAEkB,MAEjBJ,IAlEJ7B,EAAKC,iBAAiBiC,mBAAmB,YAAalC,EAAKI,cAC3DJ,EAAKC,iBAAiBoB,iBAAiB,QAASP,GA+ChDd,EAAKQ,cAAca,iBAAiB,QAASQ,GAC7C7B,EAAKU,kBAAkBW,iBAAiB,QAASW","file":"app.0e8a1e47.js","sourceRoot":"..\\src","sourcesContent":["const galleryItems = [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n]\r\n\r\nconst refs = {\r\n  galleryContainer: document.querySelector('.js-gallery'),\r\n  imagesMarkup: createGalleryCardMarkup(galleryItems),\r\n  modal: document.querySelector('.js-lightbox'),\r\n  galleryEl: document.querySelector('.gallery__image'),\r\n  closeModalBtn: document.querySelector('[data-action=\"close-lightbox\"]'),\r\n  laitBox: document.querySelector('.lightbox__image'),\r\n  clickOverlayClose: document.querySelector('.lightbox__overlay'),\r\n}\r\n\r\nrefs.galleryContainer.insertAdjacentHTML('beforeEnd', refs.imagesMarkup)\r\nrefs.galleryContainer.addEventListener('click', onGalleryImageClick)\r\n\r\n/* ------------------- Делегирование и вывод всей галереи ------------------- */\r\nfunction createGalleryCardMarkup(gallery) {\r\n  return gallery\r\n    .map(\r\n      ({ preview, original, description }) =>\r\n        `\r\n    <li class=\"gallery__item\">\r\n    <a class=\"gallery__link\" href=\"${original}\" >\r\n    <img class=\"gallery__image\" src=\"${preview}\" data-source=\"${original}\" alt=\"${description}\" >\r\n    </a>\r\n    </li>\r\n    `,\r\n    )\r\n    .join('')\r\n}\r\n\r\n/* ------------------------ Открытие модального окна ------------------------ */\r\nfunction onGalleryImageClick(e) {\r\n  e.preventDefault()\r\n\r\n  const isGalleryImageEl = e.target.classList.contains('gallery__image')\r\n  if (!isGalleryImageEl) {\r\n    return\r\n  }\r\n\r\n  window.addEventListener('keydown', onEscKeyDown)\r\n\r\n  const { dataset, alt } = e.target\r\n  abdateAttribute(dataset.source, alt)\r\n\r\n  refs.modal.classList.add('is-open')\r\n}\r\n\r\n/* ------------------------ Очистка атрибутов ------------------------ */\r\nfunction abdateAttribute(src = '', alt = '') {\r\n  refs.laitBox.src = src\r\n  refs.laitBox.alt = alt\r\n\r\n  //  laitBox.src = e.target.dataset.source\r\n  // laitBox.alt = e.target.alt\r\n}\r\n// ========================================================\r\n\r\n/* ------------------------ Закрытие модального окна ------------------------ */\r\n/* ------------------------ По клику на крестик ------------------------ */\r\nrefs.closeModalBtn.addEventListener('click', onModalClose)\r\nrefs.clickOverlayClose.addEventListener('click', onBackdropClick)\r\nfunction onModalClose() {\r\n  abdateAttribute()\r\n\r\n  window.removeEventListener('keydown', onEscKeyDown)\r\n  refs.modal.classList.remove('is-open')\r\n}\r\n\r\n/* ------------------------ По клику на backdrop ------------------------ */\r\nfunction onBackdropClick() {\r\n  onModalClose()\r\n}\r\n\r\n/* ------------------------ Кнопка Esc ------------------------ */\r\nfunction onEscKeyDown(e) {\r\n  const isEscKey = e.code === 'Escape'\r\n  if (isEscKey) {\r\n    onModalClose()\r\n  }\r\n}\r\n"]}