{"version":3,"sources":["app.js"],"names":["galleryItems","preview","original","description","refs","galleryContainer","document","querySelector","imagesMarkup","createGalleryCardMarkup","modal","galleryEl","closeModalBtn","laitBox","clickOverlayClose","insertAdjacentHTML","addEventListener","onGalleryImageClick","gallery","map","join","e","preventDefault","isGalleryImageEl","target","classList","contains","window","onEscKeyDown","dataset","alt","abdateAttribute","source","add","src","onModalClose","onBackdropClick","removeEventListener","remove","isEscKey","code"],"mappings":"AAAA,IAAMA,YAAY,GAAG,CACnB;AACEC,EAAAA,OAAO,EACL,sFAFJ;AAGEC,EAAAA,QAAQ,EACN,sFAJJ;AAKEC,EAAAA,WAAW,EAAE;AALf,CADmB,EAQnB;AACEF,EAAAA,OAAO,EACL,2EAFJ;AAGEC,EAAAA,QAAQ,EACN,2EAJJ;AAKEC,EAAAA,WAAW,EAAE;AALf,CARmB,EAenB;AACEF,EAAAA,OAAO,EACL,uEAFJ;AAGEC,EAAAA,QAAQ,EACN,uEAJJ;AAKEC,EAAAA,WAAW,EAAE;AALf,CAfmB,EAsBnB;AACEF,EAAAA,OAAO,EACL,yEAFJ;AAGEC,EAAAA,QAAQ,EACN,yEAJJ;AAKEC,EAAAA,WAAW,EAAE;AALf,CAtBmB,EA6BnB;AACEF,EAAAA,OAAO,EACL,2EAFJ;AAGEC,EAAAA,QAAQ,EACN,2EAJJ;AAKEC,EAAAA,WAAW,EAAE;AALf,CA7BmB,EAoCnB;AACEF,EAAAA,OAAO,EACL,2EAFJ;AAGEC,EAAAA,QAAQ,EACN,2EAJJ;AAKEC,EAAAA,WAAW,EAAE;AALf,CApCmB,EA2CnB;AACEF,EAAAA,OAAO,EACL,0EAFJ;AAGEC,EAAAA,QAAQ,EACN,0EAJJ;AAKEC,EAAAA,WAAW,EAAE;AALf,CA3CmB,EAkDnB;AACEF,EAAAA,OAAO,EACL,2EAFJ;AAGEC,EAAAA,QAAQ,EACN,2EAJJ;AAKEC,EAAAA,WAAW,EAAE;AALf,CAlDmB,EAyDnB;AACEF,EAAAA,OAAO,EACL,4EAFJ;AAGEC,EAAAA,QAAQ,EACN,4EAJJ;AAKEC,EAAAA,WAAW,EAAE;AALf,CAzDmB,CAArB;AAkEA,IAAMC,IAAI,GAAG;AACXC,EAAAA,gBAAgB,EAAEC,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CADP;AAEXC,EAAAA,YAAY,EAAEC,uBAAuB,CAACT,YAAD,CAF1B;AAGXU,EAAAA,KAAK,EAAEJ,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAHI;AAIXI,EAAAA,SAAS,EAAEL,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAJA;AAKXK,EAAAA,aAAa,EAAEN,QAAQ,CAACC,aAAT,CAAuB,gCAAvB,CALJ;AAMXM,EAAAA,OAAO,EAAEP,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CANE;AAOXO,EAAAA,iBAAiB,EAAER,QAAQ,CAACC,aAAT,CAAuB,oBAAvB;AAPR,CAAb;AAUAH,IAAI,CAACC,gBAAL,CAAsBU,kBAAtB,CAAyC,WAAzC,EAAsDX,IAAI,CAACI,YAA3D;AACAJ,IAAI,CAACC,gBAAL,CAAsBW,gBAAtB,CAAuC,OAAvC,EAAgDC,mBAAhD;AAEA;;AACA,SAASR,uBAAT,CAAiCS,OAAjC,EAA0C;AACxC,SAAOA,OAAO,CACXC,GADI,CAEH;AAAA,QAAGlB,OAAH,QAAGA,OAAH;AAAA,QAAYC,QAAZ,QAAYA,QAAZ;AAAA,QAAsBC,WAAtB,QAAsBA,WAAtB;AAAA,+FAG+BD,QAH/B,2DAIiCD,OAJjC,8BAI0DC,QAJ1D,sBAI4EC,WAJ5E;AAAA,GAFG,EAWJiB,IAXI,CAWC,EAXD,CAAP;AAYD;AAED;;;AACA,SAASH,mBAAT,CAA6BI,CAA7B,EAAgC;AAC9BA,EAAAA,CAAC,CAACC,cAAF;AAEA,MAAMC,gBAAgB,GAAGF,CAAC,CAACG,MAAF,CAASC,SAAT,CAAmBC,QAAnB,CAA4B,gBAA5B,CAAzB;;AACA,MAAI,CAACH,gBAAL,EAAuB;AACrB;AACD;;AAEDI,EAAAA,MAAM,CAACX,gBAAP,CAAwB,SAAxB,EAAmCY,YAAnC;AAEA,kBAAyBP,CAAC,CAACG,MAA3B;AAAA,MAAQK,OAAR,aAAQA,OAAR;AAAA,MAAiBC,GAAjB,aAAiBA,GAAjB;AACAC,EAAAA,eAAe,CAACF,OAAO,CAACG,MAAT,EAAiBF,GAAjB,CAAf;AAEA1B,EAAAA,IAAI,CAACM,KAAL,CAAWe,SAAX,CAAqBQ,GAArB,CAAyB,SAAzB;AACD;AAED;;;AACA,SAASF,eAAT,GAA6C;AAAA,MAApBG,GAAoB,uEAAd,EAAc;AAAA,MAAVJ,GAAU,uEAAJ,EAAI;AAC3C1B,EAAAA,IAAI,CAACS,OAAL,CAAaqB,GAAb,GAAmBA,GAAnB;AACA9B,EAAAA,IAAI,CAACS,OAAL,CAAaiB,GAAb,GAAmBA,GAAnB,CAF2C,CAI3C;AACA;AACD,EACD;;AAEA;;AACA;;;AACA1B,IAAI,CAACQ,aAAL,CAAmBI,gBAAnB,CAAoC,OAApC,EAA6CmB,YAA7C;AACA/B,IAAI,CAACU,iBAAL,CAAuBE,gBAAvB,CAAwC,OAAxC,EAAiDoB,eAAjD;;AACA,SAASD,YAAT,GAAwB;AACtBJ,EAAAA,eAAe;AAEfJ,EAAAA,MAAM,CAACU,mBAAP,CAA2B,SAA3B,EAAsCT,YAAtC;AACAxB,EAAAA,IAAI,CAACM,KAAL,CAAWe,SAAX,CAAqBa,MAArB,CAA4B,SAA5B;AACD;AAED;;;AACA,SAASF,eAAT,GAA2B;AACzBD,EAAAA,YAAY;AACb;AAED;;;AACA,SAASP,YAAT,CAAsBP,CAAtB,EAAyB;AACvB,MAAMkB,QAAQ,GAAGlB,CAAC,CAACmB,IAAF,KAAW,QAA5B;;AACA,MAAID,QAAJ,EAAc;AACZJ,IAAAA,YAAY;AACb;AACF","file":"app.c328ef1a.js","sourceRoot":"..\\src","sourcesContent":["const galleryItems = [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n]\r\n\r\nconst refs = {\r\n  galleryContainer: document.querySelector('.js-gallery'),\r\n  imagesMarkup: createGalleryCardMarkup(galleryItems),\r\n  modal: document.querySelector('.js-lightbox'),\r\n  galleryEl: document.querySelector('.gallery__image'),\r\n  closeModalBtn: document.querySelector('[data-action=\"close-lightbox\"]'),\r\n  laitBox: document.querySelector('.lightbox__image'),\r\n  clickOverlayClose: document.querySelector('.lightbox__overlay'),\r\n}\r\n\r\nrefs.galleryContainer.insertAdjacentHTML('beforeEnd', refs.imagesMarkup)\r\nrefs.galleryContainer.addEventListener('click', onGalleryImageClick)\r\n\r\n/* ------------------- Делегирование и вывод всей галереи ------------------- */\r\nfunction createGalleryCardMarkup(gallery) {\r\n  return gallery\r\n    .map(\r\n      ({ preview, original, description }) =>\r\n        `\r\n    <li class=\"gallery__item\">\r\n    <a class=\"gallery__link\" href=\"${original}\" >\r\n    <img class=\"gallery__image\" src=\"${preview}\" data-source=\"${original}\" alt=\"${description}\" >\r\n    </a>\r\n    </li>\r\n    `,\r\n    )\r\n    .join('')\r\n}\r\n\r\n/* ------------------------ Открытие модального окна ------------------------ */\r\nfunction onGalleryImageClick(e) {\r\n  e.preventDefault()\r\n\r\n  const isGalleryImageEl = e.target.classList.contains('gallery__image')\r\n  if (!isGalleryImageEl) {\r\n    return\r\n  }\r\n\r\n  window.addEventListener('keydown', onEscKeyDown)\r\n\r\n  const { dataset, alt } = e.target\r\n  abdateAttribute(dataset.source, alt)\r\n\r\n  refs.modal.classList.add('is-open')\r\n}\r\n\r\n/* ------------------------ Очистка атрибутов ------------------------ */\r\nfunction abdateAttribute(src = '', alt = '') {\r\n  refs.laitBox.src = src\r\n  refs.laitBox.alt = alt\r\n\r\n  //  laitBox.src = e.target.dataset.source\r\n  // laitBox.alt = e.target.alt\r\n}\r\n// ========================================================\r\n\r\n/* ------------------------ Закрытие модального окна ------------------------ */\r\n/* ------------------------ По клику на крестик ------------------------ */\r\nrefs.closeModalBtn.addEventListener('click', onModalClose)\r\nrefs.clickOverlayClose.addEventListener('click', onBackdropClick)\r\nfunction onModalClose() {\r\n  abdateAttribute()\r\n\r\n  window.removeEventListener('keydown', onEscKeyDown)\r\n  refs.modal.classList.remove('is-open')\r\n}\r\n\r\n/* ------------------------ По клику на backdrop ------------------------ */\r\nfunction onBackdropClick() {\r\n  onModalClose()\r\n}\r\n\r\n/* ------------------------ Кнопка Esc ------------------------ */\r\nfunction onEscKeyDown(e) {\r\n  const isEscKey = e.code === 'Escape'\r\n  if (isEscKey) {\r\n    onModalClose()\r\n  }\r\n}\r\n"]}